#
# XenServer patch queue on top of xen.git
#    Upstream at git://xenbits.xen.org/xen.git
#
# In an effort to reduce future work of upgrading Xen versions, all patches in
# this queue require a justification as to why they can't/won't be upstreamed,
# with the implication that everything else should be upstreamed.
#
# If in any doubt, the ring0 patch queue maintainer will be happy to help.
#
# All patches should follow the guidelines listed here:
#       http://wiki.xen.org/wiki/Submitting_Xen_Patches
# in particular with respect to a description and S-o-b lines, with the
# exception of temporary debugging patches, which should contain at least a CA
# reference.
#
# Overview of sections:
# * XenServer build system integration.
#       **Minimal Upstream makefile hacks**
# * Upstream patches.
#       Verbatim patches from upstream, possibly with tweaks because of backporting
# * Patches for upstream.
#       Most patches should be in this section, especially new ones.  By using
#       this section, you are assuming responsibility for getting the patches
#       included upstream, and will be periodically chased by the patch queue
#       maintainer.
# * Un-upstreamable patches.
#       Default tweaks, etc.  Should be minimal.
# * Technical debt.
#       Legacy patches brought forward from the past.  This section should
#       never increase, and should progressively decrease.  **Remove when empty**
# * Debugging patches.
#       Temporary debugging patches, which must contain a CA reference.  Before
#       closing a ticket, you are expected to remove debugging patches.

################################################################################
# XenServer build system integration
#
build-disable-qemu-trad.patch # Disable the qemu trad build while still letting the tools think it exists
build-tweaks.patch # Tweak version string, start-of-day banner and changeset
autoconf-libjson.patch

configure-build.patch # Configuration files for the build, including cached ./configure
builder-makefiles.patch # XS Makefile and Spec file
changeset-info.patch
xenserver-configuration.patch
coverity-model.patch

################################################################################
# Upstream patches
#
# Naming scheme: backport-<12 digit SHA>.patch # [*] <UTC TIMESTAMP> - <Commit subject>
#   A '*' indicates a patch which should be suggested for backport upstream
# Patches from stable-4.11
backport-c21aba8b9d5c.patch #   2019-02-01 10:25:52 - VMX: fix vmx_handle_eoi()
backport-d8b2418573fb.patch #   2019-02-01 10:27:59 - x86/HVM: __hvm_copy() should not write to p2m_ioreq_server pages
backport-7d1bd985ebd4.patch #   2019-02-01 10:28:45 - x86/mem-sharing: Don't leave the altp2m lock held when nominating a page
backport-0b2be0bd82b8.patch #   2019-02-01 10:29:16 - x86/soft-reset: Drop gfn reference after calling get_gfn_query()
backport-91f2ad76aa82.patch #   2019-02-01 10:29:53 - ns16550/PCI: fix skipping of devices
backport-af25f52a06a8.patch #   2019-02-01 10:30:55 - x86/shadow: don't enable shadow mode with too small a shadow allocation
backport-63d71138a4d3.patch #   2019-02-01 10:31:28 - x86/VT-x: Don't activate VMCS Shadowing outside of nested vmx mode
backport-dd914e4c6fc9.patch #   2019-02-01 10:32:03 - x86/hvm: Corrections to RDTSCP intercept handling
backport-de094111f462.patch #   2019-02-01 10:32:35 - x86emul: fix 3-operand IMUL
backport-2cd833de4dae.patch #   2019-02-01 10:33:09 - x86emul: work around SandyBridge errata
backport-198672807ec6.patch #   2019-02-01 10:33:44 - mm/page_alloc: fix MEMF_no_dma allocations for single NUMA
backport-e202feb7131e.patch #   2019-02-01 10:34:35 - xen/cmdline: Fix buggy strncmp(s, LITERAL, ss - s) construct
backport-514dccd049f8.patch #   2019-02-01 10:35:41 - x86/AMD: flush TLB after ucode update
backport-850ca94004e3.patch #   2019-02-01 10:36:17 - x86/hvm: Fix bit checking for CR4 and MSR_EFER
backport-1028304d4244.patch #   2019-03-05 13:58:42 - gnttab: set page refcount for copy-on-grant-transfer
backport-4f785ea01cf2.patch #   2019-03-05 13:59:48 - IOMMU/x86: fix type ref-counting race upon IOMMU page table construction
backport-4298abd32733.patch #   2019-03-05 14:00:29 - steal_page: Get rid of bogus struct page states
backport-be58f861234c.patch #   2019-03-05 14:01:09 - xen: Make coherent PV IOMMU discipline
backport-4835974065cc.patch #   2019-03-05 14:01:39 - x86/mm: also allow L2 (un)validation to be fully preemptible
backport-92227e25092c.patch #   2019-03-05 14:02:19 - x86/mm: add explicit preemption checks to L3 (un)validation
backport-7bbd3a5ecd71.patch #   2019-03-05 14:03:43 - x86/mm: don't retain page type reference when IOMMU operation fails
backport-6c197f96bdac.patch #   2019-03-05 14:04:21 - x86/mm: properly flush TLB in switch_cr3_cr4()
backport-c567b053e807.patch #   2019-03-05 14:04:54 - x86/pv: Rewrite guest %cr4 handling from scratch
backport-4f9ab5f75c12.patch #   2019-03-05 14:05:50 - x86/pv: Don't have %cr4.fsgsbase active behind a guest kernels back
backport-e984846dad81.patch #   2019-03-05 14:06:47 - x86/pv: _toggle_guest_pt() may not skip TLB flush for shadow mode guests
backport-fc46e159a6b1.patch #   2019-03-18 16:08:25 - x86/tsx: Implement controls for RTM force-abort mode

# Patches from master
backport-c3f6eeeb8891.patch #   2018-07-04 12:12:15 - x86/cpuid: Alter the policy logic for leaf 0xb to be multi-invocation
backport-cf7900b51eb9.patch #   2018-07-16 16:08:36 - Tools.mk.in: drop unused variables
backport-53a26ef563ab.patch #   2018-07-16 16:08:49 - ipxe: produce a single binary from its build
backport-2cae31dd472a.patch #   2018-07-16 16:08:56 - libxc: allow HVM guest to have modules
backport-e4506f404cb7.patch #   2018-07-16 16:09:01 - tools: load IPXE from standalone file
backport-01d631028a02.patch #   2018-07-16 16:09:14 - tools: provide --with-system-ipxe
backport-6f28c09aa96b.patch #   2018-07-16 16:09:18 - tools: --with-system-{ovmf,seabios,ipxe} should provide absolute paths
backport-205134148981.patch #   2018-07-18 17:30:24 - tools: fix dependency for ipxe and rombios
backport-61bdddb82151.patch #   2018-07-23 12:15:09 - xen/altp2m: set access_required properly for all altp2ms
backport-7757cce0ab39.patch #   2018-07-27 09:27:26 - tools/helpers: don't hardcode domain type for dom0 and xenstore domain
backport-499a76634d74.patch #   2018-08-02 10:10:43 - x86/vmx: Avoid using domain_crash_syncrhonous() in vmx_vmentry_failure()
backport-4c9a6546e4c3.patch #   2018-08-02 10:10:43 - xen: Remove domain_crash_synchronous() completely
backport-1dddfff4c39d.patch #   2018-08-02 11:12:43 - x86/altp2m: make sure EPTP_INDEX is up-to-date when enabling #VE
backport-4be26bd61efd.patch #   2018-08-26 10:52:18 - tools: building IPXE should be determined by CONFIG_IPXE
backport-ada9a4d904f8.patch #   2018-08-28 14:17:11 - xen/xsm: Rename CONFIG_FLASK_* to CONFIG_XSM_FLASK_*
backport-4991a46130dc.patch #   2018-08-28 14:17:11 - xen/xsm: Rename CONFIG_XSM_POLICY to CONFIG_XSM_FLASK_POLICY
backport-725cc2edce3d.patch #   2018-08-29 15:28:01 - x86: report use of PCID together with reporting XPTI status
backport-19dc9448099e.patch #   2018-08-31 15:40:38 - xen/hvm: Rename d->arch.hvm_domain to d->arch.hvm
backport-f99b99ed6381.patch #   2018-08-31 15:40:38 - x86/hvm: Rename v->arch.hvm_vcpu to v->arch.hvm
backport-2ec5339ec921.patch #   2018-09-05 11:21:26 - tools/libxl: correct vcpu affinity output with sparse physical cpu map
backport-2c257bd69a3e.patch #   2018-09-06 15:04:51 - x86/hvm: remove default ioreq server (again)
backport-eea4ec2b66da.patch #   2018-09-12 15:34:07 - x86/mm: change default value for suppress #VE in set_mem_access()
backport-e4405e0799ba.patch #   2018-09-19 18:07:31 - x86/altp2m: Add a hvmop for setting the suppress #VE bit
backport-8f29f3ead253.patch #   2018-09-19 18:07:52 - x86/altp2m: Add a hvmop for querying the suppress #VE bit
backport-3e828f882a6b.patch #   2018-09-20 09:15:14 - x86/altp2m: Allow setting the #VE info page for an arbitrary VCPU
backport-a2eb46491e28.patch #   2018-09-25 11:59:32 - x86/hvm: Add check for cpu_has_vmx_virt_exceptions
backport-0348184dd2ee.patch #   2018-09-25 15:35:52 - x86/altp2m: clean up p2m_{get/set}_suppress_ve()
backport-89faccfd35dd.patch #   2018-09-27 11:19:48 - tools/ocaml: Add OCaml binding of virq bind
backport-c88397db5c3f.patch #   2018-10-01 11:12:21 - x86: make sure module array is large enough in pvh-boot.c
backport-146bb7e1934a.patch #   2018-10-01 11:12:21 - xen: initialise opt_xen_console early in PVH boot path
backport-129025fe3093.patch #   2018-10-04 14:54:36 - oxenstored: Don't re-open a xenctrl handle for every domain introduction
backport-81946a73dc97.patch #   2018-10-04 14:54:36 - tools/ocaml: Delete the Xenctrl.with_intf wrapper
backport-02ede7dc0390.patch #   2018-10-05 15:22:37 - memory: add check_get_page_from_gfn() as a wrapper...
backport-7b20a865bc10.patch #   2018-10-08 10:58:55 - tools/ocaml: Release the global lock before invoking block syscalls
backport-7559ab7830c3.patch #   2018-10-16 17:20:47 - x86/altp2m: Add a subop for obtaining the mem access of a page
backport-761de0b8920c.patch #   2018-10-17 14:28:30 - rangeset: introduce rangeset_merge
backport-3486f398a3dd.patch #   2018-10-19 13:41:55 - x86/hvm/ioreq: allow ioreq servers to use HVM_PARAM_[BUF]IOREQ_PFN
backport-d5d30b394975.patch #   2018-10-31 16:59:53 - viridian: move the code into its own sub-directory
backport-ffb60a58df48.patch #   2018-11-01 10:20:34 - tools/misc/xenpm: fix getting info when some CPUs are offline
backport-6230dde2ed4f.patch #   2018-11-01 11:22:54 - tools/ocaml: Re-introduce Xenctrl.with_intf wrapper
backport-87e89bd112e1.patch #   2018-11-01 11:24:03 - tools/ocaml: make type of Xsraw.sync more precise
backport-78b1225ea52e.patch #   2018-11-05 10:09:35 - viridian: remove MSR perf counters
backport-137dc7e657f4.patch #   2018-11-05 10:10:55 - viridian: remove comments referencing section number in the spec
backport-01a2fd6878a2.patch #   2018-11-05 10:11:39 - viridian: remove duplicate union types
backport-0b24ef785379.patch #   2018-11-07 08:34:17 - mm/page_alloc: make bootscrub happen in idle-loop
backport-6889ae02b63d.patch #   2018-11-09 10:36:52 - viridian: separate interrupt related enlightenment implementations...
backport-36aec6100f85.patch #   2018-11-09 10:38:03 - viridian: separate time related enlightenment implementations...
backport-07ded9a515eb.patch #   2018-11-09 10:39:27 - viridian: define type for the 'virtual VP assist page'
backport-b8f0767b438b.patch #   2018-11-09 10:40:12 - viridian: introduce struct viridian_page
backport-303cee10a677.patch #   2018-11-15 12:35:08 - x86/altp2m: propagate ept.ad changes to all active altp2ms
backport-0a1eb2b43879.patch #   2018-11-20 14:43:39 - tools/helpers: make gen_stub_json_config accept an UUID argument
backport-725bf00a87fb.patch #   2018-11-21 09:50:29 - iommu / p2m: add a page_order parameter to iommu_map/unmap_page()...
backport-b81b9b9bdbda.patch #   2018-11-22 13:30:14 - x86/dom0: use MEMF_no_scrub during Dom0 construction
backport-1698309f3e5e.patch #   2018-11-23 11:06:52 - x86/mm: introduce p2m_{init,free}_logdirty()
backport-c861674f3bae.patch #   2018-11-23 11:07:24 - x86/p2m: switch global_logdirty from bool_t to bool
backport-dc80c4248445.patch #   2018-11-26 16:54:24 - viridian: fix assertion failure
backport-c3acf04dbd70.patch #   2018-11-28 16:12:44 - tools: set Dom0 UUID if requested
backport-c393b64dcee6.patch #   2018-11-30 14:21:12 - tools/libxc: Fix issues with libxc and Xen having different featureset lengths
backport-82855aba5bf9.patch #   2018-11-30 14:21:12 - tools/libxc: Fix error handling in get_cpuid_domain_info()
backport-5c08550ff4f3.patch #   2018-12-13 11:01:50 - amd-iommu: remove page merging code
backport-1fea389864bd.patch #   2018-12-10 11:32:33 - x86/hvm/viridian: stop open coding updates to APIC registers
backport-95ba8404d45d.patch #   2018-12-22 09:43:49 - x86/p2m: allocate logdirty_ranges for altp2ms
backport-6e23f46ea9bb.patch #   2018-12-22 09:43:50 - x86/p2m: refactor p2m_reset_altp2m()
backport-0fb4b58c8b9c.patch #   2018-12-22 09:43:51 - x86/altp2m: fix display frozen when switching to a new view early
backport-b5acd075aabc.patch #   2018-12-22 09:43:52 - p2m: Always use hostp2m when clipping rangesets
backport-7f28661f6a7c.patch #   2018-12-22 09:43:52 - p2m: change_type_range: Only invalidate mapped gfns
backport-9b97818c3d58.patch #   2019-01-02 12:20:42 - x86/altp2m: add altp2m_vcpu_disable_notify
backport-cbe21fd047c5.patch #   2019-01-03 10:36:06 - amd-iommu: add flush iommu_ops
backport-d40029c844cf.patch #   2019-01-03 10:36:06 - iommu: rename wrapper functions
backport-e8afe1124cc1.patch #   2019-01-03 10:36:06 - iommu: elide flushing for higher order map/unmap operations
backport-a5b0eb363694.patch #   2019-01-03 10:36:06 - x86/mm/p2m: stop checking for IOMMU shared page tables in mmio_order()
backport-2bad3829a59a.patch #   2019-01-11 11:28:49 - x86/p2m: fix p2m_finish_type_change()
backport-ff9b9d540f1b.patch #   2019-01-21 11:13:22 - x86/vm_event: block interrupt injection for sync vm_events
backport-73e1fb1aec43.patch #   2019-01-28 16:37:20 - x86/hvm/hpet: block speculative out-of-bound accesses
backport-448787e16e14.patch #   2019-01-29 11:28:11 - x86/p2m: Drop erroneous #VE-enabled check in ept_set_entry()
backport-365aabb6e502.patch #   2019-02-15 13:42:05 - tools/libxendevicemodel: add xendevicemodel_modified_memory_bulk to map
backport-29d28b29190b.patch #   2019-02-18 12:45:24 - altp2m: Prevent deadlocks when a domain performs altp2m operations on itself
backport-24d5282527f4.patch #   2019-02-18 12:46:02 - x86/altp2m: fix HVMOP_altp2m_set_domain_state race
backport-0dfffe01d568.patch #   2019-02-22 14:10:42 - x86: Improve the efficiency of domain_relinquish_resources()
backport-e72ecc761541.patch #   2019-02-22 14:10:42 - x86/altp2m: Rework #VE enable/disable paths
backport-0ec9b4ef3148.patch #   2019-02-28 11:16:27 - x86/vmx: Fix security issue when a guest balloons out the #VE info page
backport-69f7643df68e.patch #   2019-02-28 11:16:27 - x86/vmx: Properly flush the TLB when an altp2m is modified
backport-677e64dbe315.patch #   2019-02-28 11:16:27 - tools/ocaml: Dup2 /dev/null to stdin in daemonize()
backport-1c8ca185e3c6.patch #   2019-02-28 11:16:27 - x86/hvm: Increase the triple fault log message level to XENLOG_ERR
backport-0452d02b6e78.patch #   2019-02-28 13:44:40 - x86/nmi: correctly check MSB of P6 performance counter MSR in watchdog
backport-40a4a9d72d16.patch #   2019-04-05 09:21:38 - viridian: add init hooks
backport-e7a9b5e72f26.patch #   2019-04-05 09:22:13 - viridian: separately allocate domain and vcpu structures
backport-d27a69a29a4f.patch #   2019-04-05 09:24:13 - viridian: use stack variables for viridian_vcpu and viridian_domain...
backport-a204e6f8e744.patch #   2019-04-05 09:24:47 - viridian: make 'fields' struct anonymous...
backport-80aaa19e0307.patch #   2019-04-05 09:26:14 - viridian: extend init/deinit hooks into synic and time modules
backport-9203661ebb3c.patch #   2019-04-05 09:28:18 - viridian: add missing context save helpers into synic and time modules
backport-386b3365221d.patch #   2019-04-05 09:29:19 - viridian: use viridian_map/unmap_guest_page() for reference tsc page
backport-aeaa5d8b7a7c.patch #   2019-04-05 09:30:52 - viridian: stop directly calling viridian_time_ref_count_freeze/thaw()...
backport-a85089d0ef57.patch #   2019-04-05 09:31:40 - viridian: add implementation of synthetic interrupt MSRs
backport-26fba3c85571.patch #   2019-04-05 09:32:20 - viridian: add implementation of synthetic timers
backport-fda96b7382ea.patch #   2019-04-05 09:32:57 - viridian: add implementation of the HvSendSyntheticClusterIpi hypercall
backport-48dab9767d2e.patch #   2019-04-09 15:06:42 - tools/xl: use libxl_domain_info to get domain type for vcpu-pin
backport-860d6e158dbb.patch #   2019-04-12 15:41:43 - xl: handle PVH type in apply_global_affinity_masks again
backport-56ad626532eb.patch #   2019-07-02 12:00:42 - x86/msi: fix loop termination condition in pci_msi_conf_write_intercept()

################################################################################
# Patches for upstream
#

# HT boot-time detection
0001-x86-spec-ctrl-Reposition-the-XPTI-command-line-parsi.patch
0002-x86-msr-Definitions-for-MSR_INTEL_CORE_THREAD_COUNT.patch
0003-x86-boot-Detect-the-firmware-SMT-setting-correctly-o.patch

detect-nehalem-c-state.patch # malcolmc
quirk-hp-gen8-rmrr.patch # malcolmc
quirk-pci-phantom-function-devices.patch # malcolmc

# Hpet improvements v5
0001-x86-hpet-Pre-cleanup.patch
0002-x86-hpet-Use-singe-apic-vector-rather-than-irq_descs.patch
0003-x86-hpet-Post-cleanup.patch

0002-libxc-retry-shadow-ops-if-EBUSY-is-returned.patch

# Grant perf improvements
avoid-gnt-unmap-tlb-flush-if-not-accessed.patch

# Further MB2/EFI fixes
0002-efi-Ensure-incorrectly-typed-runtime-services-get-ma.patch
0001-x86-time-Don-t-use-EFI-s-GetTime-call.patch
0001-efi-Workaround-page-fault-during-runtime-service.patch

0001-x86-HVM-Avoid-cache-flush-operations-during-hvm_load.patch # rossla - CA-168080
0001-libxl-Don-t-insert-PCI-device-into-xenstore-for-HVM-.patch # rossla - CA-168029

# PoD extra mitigations
0001-x86-PoD-Command-line-option-to-prohibit-any-PoD-oper.patch

fail-on-duplicate-symbol.patch
livepatch-ignore-duplicate-new.patch
default-log-level-info.patch

# Reduce use of __LINE__
0001-lib-Add-a-generic-implementation-of-current_text_add.patch
0002-sched-Remove-dependency-on-__LINE__-for-release-buil.patch

# btrfs support for PV guests
pygrub-Ignore-GRUB2-if-statements.patch
libfsimage-Add-support-for-btrfs.patch

0001-xen-domctl-Implement-a-way-to-retrieve-a-domains-nom.patch

quiet-broke-irq-affinity.patch # rossla

# nested virt
0001-x86-vvmx-set-CR4-before-CR0.patch

# MSR policy
0001-x86-msr-Blacklist-various-MSRs-which-guests-definite.patch

# AVX-512
0004-x86-cpuid-Enable-new-SSE-AVX-AVX512-cpu-features.patch
0001-Hide-AVX-512-from-guests-by-default.patch

# xsm SILO
0003-xen-xsm-Introduce-new-boot-parameter-xsm.patch
0004-xen-xsm-Add-new-SILO-mode-for-XSM.patch

# memory scrubbing
0001-common-page_alloc-don-t-idle-scrub-before-microcode-.patch

# crashdump hardening
0001-iommu-leave-IOMMU-enabled-by-default-during-kexec-cr.patch

# vHPET
0001-x86-hvm-hpet-avoid-small-time-diff-test-on-resume.patch

################################################################################
# Un-upstreamable patches
#
xen-tweak-cmdline-defaults.patch
xen-tweak-debug-overhead.patch
tweak-iommu-policy.patch
disable-core-parking.patch
disable-runtime-microcode.patch
remove-iommu-alignment-assertions.patch

0001-Allocate-space-in-structs-pre-emptively-to-increase-.patch

################################################################################
# Technical debt
#

# xen debt
livepatch-payload-in-header.patch
xen-define-offsets-for-kdump.patch
xen-scheduler-auto-privdom-weight.patch
xen-hvm-disable-tsc-ramping.patch
xen-default-cpufreq-governor-to-performance-on-intel.patch
xen-override-caching-cp-26562.patch
0001-Partially-revert-08754333892-hvmloader-limit-CPUs-ex.patch
0001-x86-pv-silently-discard-writes-into-MSR_AMD64_LS_CFG.patch # Remove when SSBD handling on AMD is reworked

# libxc debt
revert-ca2eee92df44.patch # 2008-09-30 09:14:54 - x86, hvm: Expose host core/HT topology to HVM guests - needs removing in a migrate-safe way.
libxc-stubs-hvm_check_pvdriver.patch

# pygrub debt
pygrub-add-default-and-extra-args.patch
pygrub-always-boot-default.patch
pygrub-friendly-no-fs.patch
pygrub-image-max-size.patch
pygrub-default-xenmobile-kernel.patch
pygrub-blacklist-support.patch

# BIOS debt
oem-bios-xensource.patch # Can probably all be discarded
oem-bios-magic-from-xenstore.patch # Need to tweak, but should be upstreamed

# misc debt
misc-log-guest-consoles.patch
fix-ocaml-libs.patch
ocaml-cpuid-helpers.patch
ocaml-xc_domain_create-compat.patch

# xentop debt
xentop-display-correct-stats.patch
xentop-vbd3.patch

# mixed between components
mixed-domain-runstates.patch
mixed-xc-sockets-per-core.patch
xenguest.patch
xen-vmdebug.patch
local-xen-vmdebug.patch

oxenstore-censor-sensitive-data.patch
oxenstore-large-packets.patch

# vGPU
nvidia-vga.patch

# workspace pod debt
hvmloader-disable-pci-option-rom-loading.patch

# Nested virt tweaking knobs
xen-force-software-vmcs-shadow.patch
0001-x86-vvmx-add-initial-PV-EPT-support-in-L0.patch

add-pv-iommu-headers.patch
add-iommu-lookup-core.patch
add-iommu-lookup-intel.patch
add-pv-iommu-local-domain-ops.patch
add-pv-iommu-foreign-support.patch
add-pv-iommu-premap-m2b-support.patch
add-pv-iommu-to-spec.patch
upstream-pv-iommu-tools.patch

# Intel GVT-g debt
allow-rombios-pci-config-on-any-host-bridge.patch
0007-hypercall-XENMEM_get_mfn_from_pfn.patch # Remove when PV-IOMMU code merged
gvt-g-hvmloader+rombios.patch # Intel to upstream
0001-CA-298922-Add-support-for-p2m_ioreq_server-to-RMW-em.patch # RMW emulation fix

# VM Introspection Extensions
xen-introduce-cmdline-to-control-introspection-extensions.patch
xen-domctl-set-privileged-domain.patch
x86-domctl-Don-t-pause-the-whole-domain-if-only-gett.patch
xen-reexecute-instn-under-monitor-trap.patch
xen-emulate-Bypass-the-emulator-if-emulation-fails.patch
xen-introspection-pause.patch
xen-always-enable-altp2m-external-mode.patch

# Common Criteria
0001-cc-memory-scrubbing.patch

################################################################################
# Hotfix patches
#
xsa297-4.11-1.patch
xsa297-4.11-2.patch
xsa297-4.11-3.patch
xsa297-4.11-4.patch
backport-5a82d598d2d2.patch #   2019-06-21 16:57:51 - viridian: unify time sources
backport-40f6da82800d.patch #   2019-08-21 11:16:40 - viridian: make viridian_time_domain_freeze() safe to call...
0001-IOMMU-add-missing-HVM-check.patch
0002-passthrough-quarantine-PCI-devices.patch
backport-f28c4c4c10bd.patch #   2019-09-26 17:04:09 - sched: don't let XEN_RUNSTATE_UPDATE leak into vcpu_runstate_get()
xsa296.patch
xsa298-4.11.patch
xsa299-4.110001-x86-mm-L1TF-checks-don-t-leave-a-partial-entry.patch
xsa299-4.110002-x86-mm-Don-t-re-set-PGT_pinned-on-a-partially-de-val.patch
xsa299-4.110003-x86-mm-Separate-out-partial_pte-tristate-into-indivi.patch
xsa299-4.110004-x86-mm-Use-flags-for-_put_page_type-rather-than-a-bo.patch
xsa299-4.110005-x86-mm-Rework-get_page_and_type_from_mfn-conditional.patch
xsa299-4.110006-x86-mm-Have-alloc_l-23-_table-clear-partial_flags-wh.patch
xsa299-4.110007-x86-mm-Always-retain-a-general-ref-on-partial.patch
xsa299-4.110008-x86-mm-Collapse-PTF_partial_set-and-PTF_partial_gene.patch
xsa299-4.110009-x86-mm-Properly-handle-linear-pagetable-promotion-fa.patch
xsa299-4.110010-x86-mm-Fix-nested-de-validation-on-error.patch
xsa299-4.110011-x86-mm-Don-t-drop-a-type-ref-unless-you-held-a-ref-t.patch
xsa304-4.11-1.patch # x86/vtd: Hide superpage support for SandyBridge IOMMUs
xsa304-4.11-2.patch # x86/vtx: Disable executable EPT superpages to work around CVE-2018-12207
xsa304-4.11-3.patch # x86/vtx: Allow runtime modification of the exec-sp setting
xsa304-fast-by-default.patch
xsa305-4.11-1.patch # x86/tsx: Introduce tsx= to use MSR_TSX_CTRL when available
xsa305-4.11-2.patch # x86/spec-ctrl: Mitigate the TSX Asynchronous Abort sidechannel
toolstack-tsx-ctrl.patch
xsa305-leave-tsx-visible.patch
xsa308.patch
backport-77beba7c921a.patch #   2019-11-25 10:58:27 - x86/mm: Adjust linear uses / entries when a page loses validation
xsa309.patch
xsa310-0001-x86-mm-Set-old_guest_table-when-destroying-vcpu-page.patch
xsa310-0002-x86-mm-alloc-free_lN_table-Retain-partial_flags-on-E.patch
xsa310-0003-x86-mm-relinquish_memory-Grab-an-extra-type-ref-when.patch
xsa311-4.11.patch
backport-5e08f5f56c99.patch #   2020-01-29 14:06:10 - x86/suspend: disable watchdog before calling console_start_sync()
xsa313-1.patch
xsa313-2.patch
backport-7442006b9f09.patch #   2019-12-11 13:06:18 - x86+Arm32: make find_next_{,zero_}bit() have well defined behavior
xsa316-2.patch
0001-x86-spec-ctrl-CPUID-MSR-definitions-for-Special-Regi.patch # XSA-320 / SRBDS
0002-x86-spec-ctrl-Mitigate-the-Special-Register-Buffer-D.patch # XSA-320 / SRBDS
xsa317.patch
xsa319.patch
xsa328-xsa328-4.11-1.patch
xsa328-xsa328-4.11-2.patch
